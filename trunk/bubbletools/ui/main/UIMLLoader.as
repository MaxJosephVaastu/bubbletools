// bubbletools.* ===============================================================================// BubbleTools™ Web Application and User Interface Component Architecture for Actionscript 3// ©2007 Michael Szypula.  Any modifications to this file must keep this license block intact.// Developer : Michael Szypula// Contact : michael.szypula@gmail.com// License Information : Contact Developer to obtain license agreement.// =================================================================================================package bubbletools.ui.main {		import bubbletools.core.threading.Requesting;		import bubbletools.core.async.XmlLoader;	import bubbletools.ui.main.UIMLParser;	import bubbletools.util.Debug;		public class UIMLLoader extends Requesting {				private var UISource:String;				private static var _instance:UIMLLoader = null;				public static function instance():UIMLLoader {			if (UIMLLoader._instance == null) {				UIMLLoader._instance = new UIMLLoader();			}			return UIMLLoader._instance;		}				public function UIMLLoader(){			idName = "UIML Loader";		}			public function addLoadRequest(sourceXML:String):void {			UISource = sourceXML;		}		public function startLoad():void {			if(UISource != null) {				var myLoader = new XmlLoader();				setHandler(xmlLoaded);				setError(xmlFailed);				myLoader.setParams(UISource, this);				myLoader.startLoad();			} else {				Debug.output(this, "[UIMLLoader] No UIML file was specified to load.");			}		}		public function xmlLoaded(xmlData:XML):void {			Debug.output(this, "[UIMLLoader] UIML loaded, begin parse.");			UIMLView.saveXML(xmlData);          			UIMLParser.instance().parseData(xmlData);		}				public function xmlFailed():void {			UIMLView.loadFailed(UISource);		}	}}